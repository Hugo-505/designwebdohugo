<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Minhas Tarefas - Estilizado</title>
    
    
    <script src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js" defer></script>
    
    
    <link href="https://cdn.jsdelivr.net/npm/daisyui@4.12.10/dist/full.min.css" rel="stylesheet" type="text/css" />
    <script src="https://cdn.tailwindcss.com"></script>
    
    
    <script>
        document.addEventListener('alpine:init', () => {
            Alpine.store('tasks', {
                
                data: [
                    { id: 1, text: 'Aprender Alpine.js', done: false },
                    { id: 2, text: 'Criar Store Global', done: false },
                    { id: 3, text: 'Finalizar Projeto', done: true },
                ],
                currentFilter: 'all', 

                
                get filtered() {
                    switch (this.currentFilter) {
                        case 'done':
                            return this.data.filter(task => task.done);
                        case 'todo':
                            return this.data.filter(task => !task.done);
                        case 'all':
                        default:
                            return this.data;
                    }
                },
                
                
                get totalTodo() {
                    return this.data.filter(task => !task.done).length;
                },

                get totalDone() {
                    return this.data.filter(task => task.done).length;
                },

                
                toggle(id) {
                    const task = this.data.find(t => t.id === id);
                    if (task) {
                        task.done = !task.done;
                    }
                },

                
                add(text) {
                    if (text.trim() === '') return;
                    
                    const newId = this.data.length > 0 ? Math.max(...this.data.map(t => t.id)) + 1 : 1;
                    this.data.push({
                        id: newId,
                        text: text.trim(),
                        done: false
                    });
                }
            });
        });
    </script>
    
    
</head>
<body x-data class="flex justify-center items-start min-h-screen p-4">
    
    
    <main class="w-full max-w-lg bg-white shadow-xl rounded-xl p-6 space-y-6">
        
        
        <header class="flex justify-between items-center border-b pb-4">
            <h1 class="text-3xl font-bold text-gray-800">Minhas Tarefas</h1>
            
            <div x-show="$store.tasks.totalTodo > 0" class="badge badge-info text-white font-semibold">
                <span x-text="$store.tasks.totalTodo"></span> pendentes
            </div>
        </header>
    
        
        <div x-data="{ newTask: '' }" class="flex space-x-2">
            <input 
                type="text" 
                placeholder="Nova tarefa..." 
                x-model="newTask"
                @keydown.enter="$store.tasks.add(newTask); newTask = ''"
                class="input input-bordered w-full rounded-lg bg-gray-50 border-gray-200 focus:border-blue-500 focus:ring-blue-500"
            >
            <button 
                @click="$store.tasks.add(newTask); newTask = ''"
                :disabled="newTask.trim() === ''"
                class="btn btn-add-task rounded-lg w-16"
            >
                
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="3" stroke="currentColor" class="w-6 h-6">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M12 4.5v15m7.5-7.5h-15" />
                </svg>
            </button>
        </div>

        
        <div class="flex space-x-2 p-1 bg-gray-100 rounded-lg">
            <button 
                @click="$store.tasks.currentFilter = 'all'" 
                :class="{ 'bg-gray-900 text-white shadow-md': $store.tasks.currentFilter === 'all', 'text-gray-500 hover:text-gray-700': $store.tasks.currentFilter !== 'all' }"
                class="btn btn-sm flex-1 rounded-full border-none transition-colors duration-200 font-semibold"
            >
                Todas 
            </button>
            <button 
                @click="$store.tasks.currentFilter = 'todo'" 
                :class="{ 'bg-gray-900 text-white shadow-md': $store.tasks.currentFilter === 'todo', 'text-gray-500 hover:text-gray-700': $store.tasks.currentFilter !== 'todo' }"
                class="btn btn-sm flex-1 rounded-full border-none transition-colors duration-200 font-semibold"
            >
                Pendentes
            </button>
            <button 
                @click="$store.tasks.currentFilter = 'done'" 
                :class="{ 'bg-gray-900 text-white shadow-md': $store.tasks.currentFilter === 'done', 'text-gray-500 hover:text-gray-700': $store.tasks.currentFilter !== 'done' }"
                class="btn btn-sm flex-1 rounded-full border-none transition-colors duration-200 font-semibold"
            >
                Feitas
            </button>
        </div>

        
        <ul class="space-y-3">
            <template x-for="task in $store.tasks.filtered" :key="task.id">
                <li 
                    class="task-item flex items-center p-4 bg-white rounded-lg shadow-sm border border-gray-100 transition-all duration-200"
                    :class="{ 'task-done': task.done }"
                >
                    <label class="label cursor-pointer flex-1 flex items-center space-x-4">
                        <input 
                            type="checkbox" 
                            :checked="task.done" 
                            @change="$store.tasks.toggle(task.id)"
                            class="checkbox checkbox-success border-gray-300 rounded-md"
                        >
                        <span x-text="task.text" class="text-lg font-medium text-gray-700"></span>
                    </label>
                </li>
            </template>
        </ul>

        <p x-show="$store.tasks.filtered.length === 0" class="text-center text-gray-500 italic pt-4">
            Nenhuma tarefa encontrada para o filtro atual.
        </p>
    </main>
</body>
</html>
